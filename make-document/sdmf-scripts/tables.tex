\documentclass[oneside,11pt]{memoir}

% Fonts
\usepackage[T1]{fontenc}	% better output encoding
\usepackage{textcomp}		% For ASCII diacritics
\usepackage{lmodern}		% Latin Modern instad of CM
%\usepackage{inconsolata}	% better monospaced font
\usepackage[defaultsans]{droidsans} % straight quotes
\usepackage{microtype}		% fix the little things % comes after any fonts

% basics
\usepackage[textwidth=0.75\paperwidth]{geometry}	% Adjust margins
\usepackage{url} 		% makes urls look nicer
\usepackage[usenames,dvipsnames]{color} % adds colored text
\usepackage[font=footnotesize]{caption}	% more control over figure captions
\usepackage{underscore}	% better text underscores
\usepackage{tabularx}	% more flexible tables
\usepackage[table,dvipsnames]{xcolor}	% alternating table colors
\usepackage{todonotes}	% backend organization. Also for some reason necessary for tikz
\usepackage{booktabs}
\usepackage{ltxtable}
\usepackage{array}
\usepackage{upquote}
\usepackage{tabu}
\usepackage[level]{datetime}
%\shortdate
%\newdateformat{mydate}{%
%	\monthname[\THEMONTH] \THEDAY, \THEYEAR}

% Lists
\usepackage[ampersand]{easylist}	% Nicer syntax for creating lists
\usepackage{paralist}	% Allows inline lists %
% For citations using Bibtex
\usepackage{natbib}

% Hyperref
\usepackage[linkcolor=magenta,colorlinks=true]{hyperref} 	% allows hyperlinking % NEEDS TO BE LOADED LAST
\newcommand{\sdmf}{\textsc{sdmf}}

\renewcommand{\thesection}{\arabic{section}}
%\renewcommand{\thesubsection}{\arabic{section}.\arabic{subsection}}

\setsecnumdepth{subsection}

\title{Makefile Documentation}

\date{\today}
\author{}

\usepackage{titletoc}
\titlecontents*{section} % Section
	[0em]                  % Left
	{\space}               % Above code
	{\thecontentslabel~}   % Numbered format
	{}                     % Numberless format
	{}                     % Filler
	[\hspace{1em}]         % Separator
	
\makeatletter
\renewcommand*{\@tocmaketitle}{\noindent \textbf{\large Contents}}
\makeatother

\definecolor{lemon}{HTML}{F5ECCE}

\newcommand{\Today}{\usdate\today}

\begin{document}

	\input{descriptions.tex}
	
	\begin{center}
		\fbox{Note that the items are sorted uppercase, then lowercase: [A-Za-z]}
	\end{center}
	
	\section{Targets}
	\label{targets}
	
%	\LTXtable{\textwidth}{targets.tex}	
	\rowcolors{2}{gray!25}{white}%
	\begin{longtabu} to \linewidth {>{\ttfamily}l X >{\ttfamily}l}
		\rowcolor{gray!50}
		\textbf{Target} & \textbf{Definition \& Description} & \textbf{File} \\
		
		\input{targets.txt}		
		
	\end{longtabu}
	
	\section{Variables}
	\label{variables}
			
	\rowcolors{2}{gray!25}{white}
	
	\begin{longtabu} to \linewidt {>{\ttfamily}l X >{\ttfamily}l}
		\rowcolor{gray!50}
		\textbf{Variable} & \textbf{Definition \& Description} & \textbf{File} \\
		
		\input{variables.txt}		
		
		\bottomrule
	\end{longtabu}
	
	\section{Intermediate Files}
	\label{intermediates}

	\begin{description}		
		\input{intermediates.txt}				
	\end{description}
	
	\newpage
	\newgeometry{scale=0.85, centering}
	\section{Makefiles}
	\label{makefiles}
		
	\lstset{language=make, 
		backgroundcolor=\color{lemon},
		showstringspaces=false,
		gobble=8,
		basicstyle=\small\ttfamily,
		breaklines=true,
		escapeinside={\%*}{*},
		upquote=true}
		
	\input{makefiles.tex}
	
\end{document}
	
